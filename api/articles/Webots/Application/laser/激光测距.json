{"title":"激光测距","uid":"80ea0cc761d83c0a2eee1d3642703324","slug":"Webots/Application/laser/激光测距","date":"2022-01-30T12:49:36.000Z","updated":"2022-02-09T13:27:47.428Z","comments":true,"path":"api/articles/Webots/Application/laser/激光测距.json","keywords":null,"cover":"https://s2.loli.net/2022/02/09/RuOmPE9haZSG7Wy.jpg","content":"<h1 id=\"1-新建激光测距\"><a href=\"#1-新建激光测距\" class=\"headerlink\" title=\"1.新建激光测距\"></a><strong>1.新建激光测距</strong></h1><p>创建一个 DistanceSensor 节点，在 type 中修改为 lsaer，就是激光测距模式。</p>\n<p>测距设置为一个高 0.004，半径 0.008 的圆柱，激光（测距）的方向是沿着 Z 轴（红色箭头）方向，于是我们要将传感器坐标旋转成这样</p>\n<p><img src=\"/post/Webots/Application/laser/%E6%BF%80%E5%85%89%E6%B5%8B%E8%B7%9D/Untitled.png\" alt=\"Untitled.png\"></p>\n<p>但是旋转成这样 children 节点的圆柱的位置可能不是我们想要的，于是可以在 children 里新建一个 Transform 节点，在 Transform 节点里再新建一个圆柱，再旋转 Transform 的节点，就可以做成这样</p>\n<p><img src=\"/post/Webots/Application/laser/%E6%BF%80%E5%85%89%E6%B5%8B%E8%B7%9D/Untitled%201.png\" alt=\"Untitled%201.png\"></p>\n<h1 id=\"2-调整测距的参数\"><a href=\"#2-调整测距的参数\" class=\"headerlink\" title=\"2.调整测距的参数\"></a><strong>2.调整测距的参数</strong></h1><p>首先要使代码能启动该传感器，就要先在 name 上定义一个名字，我定义为 laser0。</p>\n<p>lookupTable 是调节 Webots 测量的值映射到传感器返回的响应值，表的第一列指定输入距离，第二列指定相应的所需响应值，第三列指示所需的噪声标准偏差。（详情可以看官方文档）</p>\n<p>aperture 是调节激光打到物体上光斑的半径</p>\n<p><img src=\"/post/Webots/Application/laser/%E6%BF%80%E5%85%89%E6%B5%8B%E8%B7%9D/Untitled%202.png\" alt=\"Untitled%202.png\"></p>\n<p>完成这些后激光测距就定义好了。</p>\n<h1 id=\"3-编写代码\"><a href=\"#3-编写代码\" class=\"headerlink\" title=\"3.编写代码\"></a><strong>3.编写代码</strong></h1><pre class=\"line-numbers language-c\" data-language=\"c\"><code class=\"language-c\">#include &lt;webots&#x2F;distance_sensor.h&gt;\n\ndouble distance &#x3D; 0.0;\n\n&#x2F;*初始化传感器*&#x2F;\nWbDeviceTag laser0 &#x3D; wb_robot_get_device(&quot;laser0&quot;);\nwb_distance_sensor_enable(laser0, TIME_STEP);\n\n&#x2F;*获取传感器距离*&#x2F;\ndistance &#x3D; wb_distance_sensor_get_value(laser0);</code></pre>\n\n<h1 id=\"参考与致谢\"><a href=\"#参考与致谢\" class=\"headerlink\" title=\"参考与致谢\"></a><strong>参考与致谢</strong></h1><p><a href=\"https://cyberbotics.com/doc/reference/distancesensor?tab-language=c\">Webots: 激光</a></p>\n","text":"1.新建激光测距创建一个 DistanceSensor 节点，在 type 中修改为 lsaer，就是激光测距模式。 测距设置为一个高 0.004，半径 0.008 的圆柱，激光（测距）的方向是沿着 Z 轴（红色箭头）方向，于是我们要将传感器坐标旋转成这样 但是旋转成这样 chi...","link":"","photos":[],"count_time":{"symbolsCount":749,"symbolsTime":"1 mins."},"categories":[{"name":"运动仿真","slug":"运动仿真","count":19,"path":"api/categories/运动仿真.json"}],"tags":[{"name":"Webots","slug":"Webots","count":19,"path":"api/tags/Webots.json"}],"toc":"<ol class=\"toc\"><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#1-%E6%96%B0%E5%BB%BA%E6%BF%80%E5%85%89%E6%B5%8B%E8%B7%9D\"><span class=\"toc-text\">1.新建激光测距</span></a></li><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#2-%E8%B0%83%E6%95%B4%E6%B5%8B%E8%B7%9D%E7%9A%84%E5%8F%82%E6%95%B0\"><span class=\"toc-text\">2.调整测距的参数</span></a></li><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#3-%E7%BC%96%E5%86%99%E4%BB%A3%E7%A0%81\"><span class=\"toc-text\">3.编写代码</span></a></li><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#%E5%8F%82%E8%80%83%E4%B8%8E%E8%87%B4%E8%B0%A2\"><span class=\"toc-text\">参考与致谢</span></a></li></ol>","author":{"name":"Miraggio","slug":"blog-author","avatar":"https://s2.loli.net/2022/01/23/kntF9TEBOyHquwV.png","link":"https://lapzjfit.site","description":"喜欢研究奇奇怪怪的技术&游戏宅","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}},"mapped":true,"prev_post":{"title":"添加摄像头","uid":"c9ce92de968e539fb260956b4d902ffd","slug":"Webots/Application/camera/添加摄像头","date":"2022-01-30T12:49:36.000Z","updated":"2022-02-08T16:54:10.437Z","comments":true,"path":"api/articles/Webots/Application/camera/添加摄像头.json","keywords":null,"cover":"https://s2.loli.net/2022/02/09/kuC42m1ySOQohY7.jpg","text":"1.添加camera实体在Robot中添加 camera（camera相机） 设置这个 camera 相机的children中添加 transform 节点， 设置这个 transform 节点的children中添加shape节点，并设置外观和形状。设置半径 0.01 高度0....","link":"","photos":[],"count_time":{"symbolsCount":"3.3k","symbolsTime":"3 mins."},"categories":[{"name":"运动仿真","slug":"运动仿真","count":19,"path":"api/categories/运动仿真.json"}],"tags":[{"name":"Webots","slug":"Webots","count":19,"path":"api/tags/Webots.json"}],"author":{"name":"Miraggio","slug":"blog-author","avatar":"https://s2.loli.net/2022/01/23/kntF9TEBOyHquwV.png","link":"https://lapzjfit.site","description":"喜欢研究奇奇怪怪的技术&游戏宅","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}}},"next_post":{"title":"使用 URDF2WEBOTS 导入 SolidWorks 装配体","uid":"9f4d731f68633873b2e6fa4c0e1d7745","slug":"Webots/Application/导入模型/使用 URDF2WEBOTS 导入 SolidWorks 装配体","date":"2022-01-30T12:49:36.000Z","updated":"2022-02-08T16:30:33.705Z","comments":true,"path":"api/articles/Webots/Application/导入模型/使用 URDF2WEBOTS 导入 SolidWorks 装配体.json","keywords":null,"cover":"https://s2.loli.net/2022/02/08/iUuwqCBzWEm87Dt.jpg","text":"1.安装pythonURDF2WEBOTS 要在 python下运行，可以去 python 官网找 python 包然后下载。我用的是 python-3.8.6-amd64 包。 Windows python3.8环境安装 2.使用官方包导入URDF2WEBOTS 可以把URDF...","link":"","photos":[],"count_time":{"symbolsCount":"2.2k","symbolsTime":"2 mins."},"categories":[{"name":"运动仿真","slug":"运动仿真","count":19,"path":"api/categories/运动仿真.json"}],"tags":[{"name":"Webots","slug":"Webots","count":19,"path":"api/tags/Webots.json"}],"author":{"name":"Miraggio","slug":"blog-author","avatar":"https://s2.loli.net/2022/01/23/kntF9TEBOyHquwV.png","link":"https://lapzjfit.site","description":"喜欢研究奇奇怪怪的技术&游戏宅","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}}}}