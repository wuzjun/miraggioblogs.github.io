{"title":"建立 2021RC 图纸","uid":"dc9eb118380877df3be3b78227a1a198","slug":"Webots/Application/RC map/2021RC 图纸","date":"2022-01-30T12:49:36.000Z","updated":"2022-02-08T17:10:46.718Z","comments":true,"path":"api/articles/Webots/Application/RC map/2021RC 图纸.json","keywords":null,"cover":"https://s2.loli.net/2022/02/09/2sMCWbBZxHLzaJO.jpg","content":"<h1 id=\"1-Soliworks-导出图纸到-Webots\"><a href=\"#1-Soliworks-导出图纸到-Webots\" class=\"headerlink\" title=\"1.Soliworks 导出图纸到 Webots\"></a><strong>1.Soliworks 导出图纸到 Webots</strong></h1><p>2021RC 场地中间有三个可活动的壶，三个壶分别定义为三个关节，启动区，地板，线等分别单独作为一个Solid导出，总体导出为一个Robot节点。（后面会说为什么要这样导出）</p>\n<h1 id=\"2-建立场地地板\"><a href=\"#2-建立场地地板\" class=\"headerlink\" title=\"2.建立场地地板\"></a><strong>2.建立场地地板</strong></h1><p>其实小车也可以在原Robot节点上跑，但是带来的问题是，不好控制。小车在有碰撞边界的物体上跑时会增大计算量，导致走得很颠簸，而且会卡。解决这个问题的最好办法是把需要作为地板的固体直接作为一个地板节点。官方碰撞边界里专门有 Plane 节点：</p>\n<p><img src=\"/post/Webots/Application/RC%20map/2021RC%20%E5%9B%BE%E7%BA%B8/Untitled.png\" alt=\"Untitled.png\"></p>\n<blockquote><span class=\"custom-blockquote-svg\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"\" xmlns=\"http://www.w3.org/2000/svg\" data-reactroot=\"\">\n<path fill=\"\" d=\"M22 12C22 6.5 17.5 2 12 2C6.5 2 2 6.5 2 12C2 17.5 6.5 22 12 22C13.8 22 15.5 21.5 17 20.6L22 22L20.7 17C21.5 15.5 22 13.8 22 12Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\" undefined=\"1\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M17 8.5C15.23 8.97 14.07 10.84 14.01 13.27C14 13.33 14 13.4 14 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M9 8.5C7.23 8.97 6.07 10.84 6.01 13.27C6 13.33 6 13.4 6 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\"></path>\n</svg>\n</span><p>官方解释：</p>\n<p>Plan 节点在局部坐标系中的 y = 0 处定义了一个无限的 3D 平面。 平面可以在 boundingObject 中使用，以模拟边界，例如地板或无限墙。 size字段仅用于视觉表示，当涉及到碰撞检测时，Plan 是无限的。 Plan 是严格静态的对象，不能将其放置在动态（基于物理）对象的 boundingObject 中。</p></blockquote>\n<p>于是可以把导入的Robot节点里关于地上的东西全部拿出来重新定义为一个地板。</p>\n<ul>\n<li>首先创建一个 Transform 节点，再创建一个 Solid j节点用来放置所有关于地板节点。</li>\n<li>再把启动区，主底面，线等 Solid 节点剪切过去（把各个不同模块分开是方便可以染色）</li>\n</ul>\n<p><img src=\"/post/Webots/Application/RC%20map/2021RC%20%E5%9B%BE%E7%BA%B8/Untitled%201.png\" alt=\"Untitled%201.png\"></p>\n<ul>\n<li>碰撞边界处就定义一个 Transform→Plan 节点，地板平面要比导入的节点位置都要高，否则仿真时上面小车会穿模，仿真会卡。</li>\n<li>最后把各个模块染下色，对齐坐标，整个地板就完成了。</li>\n</ul>\n<p><img src=\"/post/Webots/Application/RC%20map/2021RC%20%E5%9B%BE%E7%BA%B8/Untitled%202.png\" alt=\"Untitled%202.png\"></p>\n<h1 id=\"3-修改场地主体\"><a href=\"#3-修改场地主体\" class=\"headerlink\" title=\"3.修改场地主体\"></a><strong>3.修改场地主体</strong></h1><p>模型在导入是碰撞边界是连带生成好的，但是直接使用系统生成的碰撞边界有问题。</p>\n<ul>\n<li>不稳定。由于某个地方的纹理比较复杂，小车走到那个地方时计算会出错，导致出现一些2077的BUG。例如原地飞天之类的。</li>\n<li>拖慢仿真速度</li>\n</ul>\n<p>在 Solidworks 导出模型时是把围墙作为 Robot 节点的身体，所以第一级节点碰撞边界只需要定义围墙即可。</p>\n<p><img src=\"/post/Webots/Application/RC%20map/2021RC%20%E5%9B%BE%E7%BA%B8/Untitled%203.png\" alt=\"Untitled%203.png\"></p>\n<p>在第二级节点，就是场地上的壶，要点开里面重定义碰撞边界。（但是由于 Webots 没有空心圆柱的节点生成，于是不作变化）</p>\n<p><img src=\"/post/Webots/Application/RC%20map/2021RC%20%E5%9B%BE%E7%BA%B8/Untitled%204.png\" alt=\"Untitled%204.png\"></p>\n<p>另外，场地有三个壶是能动的，属于关节，在转成 .proto 文件时，会自动生成电机，但是这里我们只是作为活动关节，所以我们不需要电机，要把电机节点删掉。</p>\n<p><img src=\"/post/Webots/Application/RC%20map/2021RC%20%E5%9B%BE%E7%BA%B8/Untitled%205.png\" alt=\"Untitled%205.png\"></p>\n<p>物理属性也会自动添加，一般不作修改，把碰撞边界处理好之后就完成了。点击仿真，能正常运行。放置一台小车模型，去撞击场地的个个部分，都正常，到这里就结束了。</p>\n","text":"1.Soliworks 导出图纸到 Webots2021RC 场地中间有三个可活动的壶，三个壶分别定义为三个关节，启动区，地板，线等分别单独作为一个Solid导出，总体导出为一个Robot节点。（后面会说为什么要这样导出） 2.建立场地地板其实小车也可以在原Robot节点上跑，但...","link":"","photos":[],"count_time":{"symbolsCount":"1k","symbolsTime":"1 mins."},"categories":[{"name":"运动仿真","slug":"运动仿真","count":19,"path":"api/categories/运动仿真.json"}],"tags":[{"name":"Webots","slug":"Webots","count":19,"path":"api/tags/Webots.json"}],"toc":"<ol class=\"toc\"><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#1-Soliworks-%E5%AF%BC%E5%87%BA%E5%9B%BE%E7%BA%B8%E5%88%B0-Webots\"><span class=\"toc-text\">1.Soliworks 导出图纸到 Webots</span></a></li><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#2-%E5%BB%BA%E7%AB%8B%E5%9C%BA%E5%9C%B0%E5%9C%B0%E6%9D%BF\"><span class=\"toc-text\">2.建立场地地板</span></a></li><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#3-%E4%BF%AE%E6%94%B9%E5%9C%BA%E5%9C%B0%E4%B8%BB%E4%BD%93\"><span class=\"toc-text\">3.修改场地主体</span></a></li></ol>","author":{"name":"Miraggio","slug":"blog-author","avatar":"https://s2.loli.net/2022/01/23/kntF9TEBOyHquwV.png","link":"https://lapzjfit.site","description":"喜欢研究奇奇怪怪的技术&游戏宅","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}},"mapped":true,"prev_post":{"title":"添加IMU传感器","uid":"1db430f3082768ced870d0c537dad34d","slug":"Webots/Application/IMU/添加IMU传感器","date":"2022-01-30T12:49:36.000Z","updated":"2022-02-08T17:03:35.875Z","comments":true,"path":"api/articles/Webots/Application/IMU/添加IMU传感器.json","keywords":null,"cover":"https://s2.loli.net/2022/02/09/NeDbjfVzIputR4G.jpg","text":"1.添加姿态测量传感器 InertialUnit1.1.创建一个姿态测量传感器在现有的 Robot 上才能创建。 children→InertialUnit 可创建姿态传感器。在 InertialUnit 下创建一个形状，随便一个圆柱也行，放在小车的中心或者想放的任何位置。（跟上...","link":"","photos":[],"count_time":{"symbolsCount":"5.7k","symbolsTime":"5 mins."},"categories":[{"name":"运动仿真","slug":"运动仿真","count":19,"path":"api/categories/运动仿真.json"}],"tags":[{"name":"Webots","slug":"Webots","count":19,"path":"api/tags/Webots.json"}],"author":{"name":"Miraggio","slug":"blog-author","avatar":"https://s2.loli.net/2022/01/23/kntF9TEBOyHquwV.png","link":"https://lapzjfit.site","description":"喜欢研究奇奇怪怪的技术&游戏宅","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}}},"next_post":{"title":"添加摄像头","uid":"c9ce92de968e539fb260956b4d902ffd","slug":"Webots/Application/camera/添加摄像头","date":"2022-01-30T12:49:36.000Z","updated":"2022-02-08T16:54:10.437Z","comments":true,"path":"api/articles/Webots/Application/camera/添加摄像头.json","keywords":null,"cover":"https://s2.loli.net/2022/02/09/kuC42m1ySOQohY7.jpg","text":"1.添加camera实体在Robot中添加 camera（camera相机） 设置这个 camera 相机的children中添加 transform 节点， 设置这个 transform 节点的children中添加shape节点，并设置外观和形状。设置半径 0.01 高度0....","link":"","photos":[],"count_time":{"symbolsCount":"3.3k","symbolsTime":"3 mins."},"categories":[{"name":"运动仿真","slug":"运动仿真","count":19,"path":"api/categories/运动仿真.json"}],"tags":[{"name":"Webots","slug":"Webots","count":19,"path":"api/tags/Webots.json"}],"author":{"name":"Miraggio","slug":"blog-author","avatar":"https://s2.loli.net/2022/01/23/kntF9TEBOyHquwV.png","link":"https://lapzjfit.site","description":"喜欢研究奇奇怪怪的技术&游戏宅","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}}}}