{"title":"移植官方DSP库","uid":"953874cd19baad4a77313739111b0aad","slug":"cubeMX/cubeMX-DSP/DSP","date":"2022-01-27T10:49:36.000Z","updated":"2022-02-08T15:35:50.146Z","comments":true,"path":"api/articles/cubeMX/cubeMX-DSP/DSP.json","keywords":null,"cover":"https://s2.loli.net/2022/01/28/OhwXALQNsKrtxTn.jpg","content":"<h1 id=\"1-这里一定要勾选所有库\"><a href=\"#1-这里一定要勾选所有库\" class=\"headerlink\" title=\"1.这里一定要勾选所有库\"></a><strong>1.这里一定要勾选所有库</strong></h1><p><img src=\"/post/cubeMX/cubeMX-DSP/DSP/Untitled.png\" alt=\"Untitled\"></p>\n<h1 id=\"2-debug里引入该路径\"><a href=\"#2-debug里引入该路径\" class=\"headerlink\" title=\"2.debug里引入该路径\"></a><strong>2.debug里引入该路径</strong></h1><p><img src=\"/post/cubeMX/cubeMX-DSP/DSP/Untitled%201.png\" alt=\"Untitled\"></p>\n<h1 id=\"3-然后在工程里引入这四个库\"><a href=\"#3-然后在工程里引入这四个库\" class=\"headerlink\" title=\"3.然后在工程里引入这四个库\"></a><strong>3.然后在工程里引入这四个库</strong></h1><p><img src=\"/post/cubeMX/cubeMX-DSP/DSP/Untitled%202.png\" alt=\"Untitled\"></p>\n<h1 id=\"4-HAL库在生成的时候已经赋值过来了，在自己工程的这个位置\"><a href=\"#4-HAL库在生成的时候已经赋值过来了，在自己工程的这个位置\" class=\"headerlink\" title=\"4.HAL库在生成的时候已经赋值过来了，在自己工程的这个位置\"></a><strong>4.HAL库在生成的时候已经赋值过来了，在自己工程的这个位置</strong></h1><p><img src=\"/post/cubeMX/cubeMX-DSP/DSP/Untitled%203.png\" alt=\"Untitled\"></p>\n<h1 id=\"5-然后在魔术棒里添加下面的宏定义\"><a href=\"#5-然后在魔术棒里添加下面的宏定义\" class=\"headerlink\" title=\"5.然后在魔术棒里添加下面的宏定义\"></a><strong>5.然后在魔术棒里添加下面的宏定义</strong></h1><details class=\"custom-details\">\n<summary>宏定义如下</summary>\n<p>__TARGET_FPU_VFP=1,ARM_MATH_CM4,__CC_ARM\n</details>\n<h2 id=\"5-1-使能FPU\"><a href=\"#5-1-使能FPU\" class=\"headerlink\" title=\"5.1.使能FPU\"></a>5.1.使能FPU</h2><p>似乎新版的CMSIS库中需要使用__TARGET_FPU_VFP=1宏来使能FPU</p>\n<ul>\n<li>实际上是启用__FPU_USED宏，同时不需要手动定义__FPU_PRESENT，同时需要添加ARM_MATH_CM4等Cortex系列定义。</li>\n</ul>\n<ul>\n<li><p>定义后再编译，可以在system_stm32f4xx.c中的SystemInit()函数中看到FPU使能命令：</p>\n<p>  <img src=\"/post/cubeMX/cubeMX-DSP/DSP/Untitled%204.png\" alt=\"Untitled\"></p>\n</li>\n</ul>\n<p>完成后即可正常编译</p>\n<h1 id=\"6-使用时注意事项\"><a href=\"#6-使用时注意事项\" class=\"headerlink\" title=\"6.使用时注意事项\"></a><strong>6.使用时注意事项</strong></h1><h2 id=\"6-1-直接调用-“arm-math-h”-会报错\"><a href=\"#6-1-直接调用-“arm-math-h”-会报错\" class=\"headerlink\" title=\"6.1.直接调用 “arm_math.h” 会报错\"></a>6.1.直接调用 “arm_math.h” 会报错</h2><p><img src=\"/post/cubeMX/cubeMX-DSP/DSP/Untitled%205.png\" alt=\"Untitled%205.png\"></p>\n<p>解决方法：</p>\n<p><img src=\"/post/cubeMX/cubeMX-DSP/DSP/Untitled%206.png\" alt=\"Untitled%206.png\"></p>\n","text":"1.这里一定要勾选所有库 2.debug里引入该路径 3.然后在工程里引入这四个库 4.HAL库在生成的时候已经赋值过来了，在自己工程的这个位置 5.然后在魔术棒里添加下面的宏定义 宏定义如下 __TARGET_FPU_VFP=1,ARM_MATH_CM4,__CC_ARM 5....","link":"","photos":[],"count_time":{"symbolsCount":378,"symbolsTime":"1 mins."},"categories":[{"name":"Embedded","slug":"Embedded","count":19,"path":"api/categories/Embedded.json"}],"tags":[{"name":"cubeMX","slug":"cubeMX","count":18,"path":"api/tags/cubeMX.json"},{"name":"DSP","slug":"DSP","count":1,"path":"api/tags/DSP.json"}],"toc":"<ol class=\"toc\"><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#1-%E8%BF%99%E9%87%8C%E4%B8%80%E5%AE%9A%E8%A6%81%E5%8B%BE%E9%80%89%E6%89%80%E6%9C%89%E5%BA%93\"><span class=\"toc-text\">1.这里一定要勾选所有库</span></a></li><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#2-debug%E9%87%8C%E5%BC%95%E5%85%A5%E8%AF%A5%E8%B7%AF%E5%BE%84\"><span class=\"toc-text\">2.debug里引入该路径</span></a></li><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#3-%E7%84%B6%E5%90%8E%E5%9C%A8%E5%B7%A5%E7%A8%8B%E9%87%8C%E5%BC%95%E5%85%A5%E8%BF%99%E5%9B%9B%E4%B8%AA%E5%BA%93\"><span class=\"toc-text\">3.然后在工程里引入这四个库</span></a></li><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#4-HAL%E5%BA%93%E5%9C%A8%E7%94%9F%E6%88%90%E7%9A%84%E6%97%B6%E5%80%99%E5%B7%B2%E7%BB%8F%E8%B5%8B%E5%80%BC%E8%BF%87%E6%9D%A5%E4%BA%86%EF%BC%8C%E5%9C%A8%E8%87%AA%E5%B7%B1%E5%B7%A5%E7%A8%8B%E7%9A%84%E8%BF%99%E4%B8%AA%E4%BD%8D%E7%BD%AE\"><span class=\"toc-text\">4.HAL库在生成的时候已经赋值过来了，在自己工程的这个位置</span></a></li><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#5-%E7%84%B6%E5%90%8E%E5%9C%A8%E9%AD%94%E6%9C%AF%E6%A3%92%E9%87%8C%E6%B7%BB%E5%8A%A0%E4%B8%8B%E9%9D%A2%E7%9A%84%E5%AE%8F%E5%AE%9A%E4%B9%89\"><span class=\"toc-text\">5.然后在魔术棒里添加下面的宏定义</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#5-1-%E4%BD%BF%E8%83%BDFPU\"><span class=\"toc-text\">5.1.使能FPU</span></a></li></ol></li><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#6-%E4%BD%BF%E7%94%A8%E6%97%B6%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9\"><span class=\"toc-text\">6.使用时注意事项</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#6-1-%E7%9B%B4%E6%8E%A5%E8%B0%83%E7%94%A8-%E2%80%9Carm-math-h%E2%80%9D-%E4%BC%9A%E6%8A%A5%E9%94%99\"><span class=\"toc-text\">6.1.直接调用 “arm_math.h” 会报错</span></a></li></ol></li></ol>","author":{"name":"Miraggio","slug":"blog-author","avatar":"https://s2.loli.net/2022/01/23/kntF9TEBOyHquwV.png","link":"https://lapzjfit.site","description":"喜欢研究奇奇怪怪的技术&游戏宅","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}},"mapped":true,"prev_post":{"title":"CM中USART的配置，以及启动方法","uid":"dea130efefdf0c7df84d0658a83a4131","slug":"cubeMX/cubeMX-AllUSART/USART","date":"2022-01-27T10:49:36.000Z","updated":"2022-02-08T15:35:50.142Z","comments":true,"path":"api/articles/cubeMX/cubeMX-AllUSART/USART.json","keywords":null,"cover":"https://s2.loli.net/2022/01/27/176AIpMQUOKfNFt.jpg","text":"1.USART 配置USART 的配置部分比较的难搞，但是其实大部分如果注意一下的话，问题其实并不太大。 以下是 USART 中一些比较常用的通讯方式（其实实际上用的多的也就异步） 以及下面还有 RS232 的通信模式 这里涵盖了大部分的串口的通信模式，同时也可以说是涵盖了大部分...","link":"","photos":[],"count_time":{"symbolsCount":808,"symbolsTime":"1 mins."},"categories":[{"name":"Embedded","slug":"Embedded","count":19,"path":"api/categories/Embedded.json"}],"tags":[{"name":"HAL","slug":"HAL","count":14,"path":"api/tags/HAL.json"},{"name":"cubeMX","slug":"cubeMX","count":18,"path":"api/tags/cubeMX.json"}],"author":{"name":"Miraggio","slug":"blog-author","avatar":"https://s2.loli.net/2022/01/23/kntF9TEBOyHquwV.png","link":"https://lapzjfit.site","description":"喜欢研究奇奇怪怪的技术&游戏宅","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}}},"next_post":{"title":"Flash使用","uid":"183e6b77bf2e73e194c62a98ae96b0fa","slug":"cubeMX/cubeMX-Flash/Flash","date":"2022-01-27T10:49:36.000Z","updated":"2022-02-08T15:35:50.154Z","comments":true,"path":"api/articles/cubeMX/cubeMX-Flash/Flash.json","keywords":null,"cover":"https://s2.loli.net/2022/02/07/feLI8AMyJNxb3S9.jpg","text":"1.Flash 的上锁解锁&#x2F;** * @brief Flash解锁 * *&#x2F; void MEM_If_Init_FS(void) &#123; HAL_FLASH_Unlock(); __HAL_FLASH_CLEAR_FLAG(FLASH_FLAG_EOP ...","link":"","photos":[],"count_time":{"symbolsCount":"7.3k","symbolsTime":"7 mins."},"categories":[{"name":"Embedded","slug":"Embedded","count":19,"path":"api/categories/Embedded.json"}],"tags":[{"name":"cubeMX","slug":"cubeMX","count":18,"path":"api/tags/cubeMX.json"},{"name":"Flash","slug":"Flash","count":1,"path":"api/tags/Flash.json"}],"author":{"name":"Miraggio","slug":"blog-author","avatar":"https://s2.loli.net/2022/01/23/kntF9TEBOyHquwV.png","link":"https://lapzjfit.site","description":"喜欢研究奇奇怪怪的技术&游戏宅","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}}}}